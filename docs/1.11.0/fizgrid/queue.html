<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 16.0.0"/>
    <title>fizgrid.queue API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:.75rem center;margin-bottom:1rem;}.pdoc .alert > em{display:none;}.pdoc .alert > *:last-child{margin-bottom:0;}.pdoc .alert.note{color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .alert.tip{color:#0a3622;background-color:#d1e7dd;border-color:#a3cfbb;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%230a3622%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M2%206a6%206%200%201%201%2010.174%204.31c-.203.196-.359.4-.453.619l-.762%201.769A.5.5%200%200%201%2010.5%2013a.5.5%200%200%201%200%201%20.5.5%200%200%201%200%201l-.224.447a1%201%200%200%201-.894.553H6.618a1%201%200%200%201-.894-.553L5.5%2015a.5.5%200%200%201%200-1%20.5.5%200%200%201%200-1%20.5.5%200%200%201-.46-.302l-.761-1.77a2%202%200%200%200-.453-.618A5.98%205.98%200%200%201%202%206m6-5a5%205%200%200%200-3.479%208.592c.263.254.514.564.676.941L5.83%2012h4.342l.632-1.467c.162-.377.413-.687.676-.941A5%205%200%200%200%208%201%22/%3E%3C/svg%3E");}.pdoc .alert.important{color:#055160;background-color:#cff4fc;border-color:#9eeaf9;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23055160%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M2%200a2%202%200%200%200-2%202v12a2%202%200%200%200%202%202h12a2%202%200%200%200%202-2V2a2%202%200%200%200-2-2zm6%204c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%204.995A.905.905%200%200%201%208%204m.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2%22/%3E%3C/svg%3E");}.pdoc .alert.warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .alert.caution{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M11.46.146A.5.5%200%200%200%2011.107%200H4.893a.5.5%200%200%200-.353.146L.146%204.54A.5.5%200%200%200%200%204.893v6.214a.5.5%200%200%200%20.146.353l4.394%204.394a.5.5%200%200%200%20.353.146h6.214a.5.5%200%200%200%20.353-.146l4.394-4.394a.5.5%200%200%200%20.146-.353V4.893a.5.5%200%200%200-.146-.353zM8%204c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%204.995A.905.905%200%200%201%208%204m.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2%22/%3E%3C/svg%3E");}.pdoc .alert.danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .decorator-deprecated{color:#842029;}.pdoc .decorator-deprecated ~ span{filter:grayscale(1) opacity(0.8);}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:27px;vertical-align:bottom;width:50px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>            <a class="pdoc-button module-list-button" href="../fizgrid.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                &nbsp;fizgrid</a>


            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>



            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="class" href="#TimeQueue">TimeQueue</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#TimeQueue.__init__">TimeQueue</a>
                        </li>
                        <li>
                                <a class="function" href="#TimeQueue.add_event">add_event</a>
                        </li>
                        <li>
                                <a class="function" href="#TimeQueue.remove_event">remove_event</a>
                        </li>
                        <li>
                                <a class="function" href="#TimeQueue.remove_next_event">remove_next_event</a>
                        </li>
                        <li>
                                <a class="function" href="#TimeQueue.get_next_event">get_next_event</a>
                        </li>
                        <li>
                                <a class="function" href="#TimeQueue.get_next_events">get_next_events</a>
                        </li>
                </ul>

            </li>
    </ul>


<footer>
<select id="version-selector">
    <option value="latest">latest</option>
        <option value="1.11.0">1.11.0</option>
        <option value="1.10.0">1.10.0</option>
        <option value="1.9.0">1.9.0</option>
        <option value="1.8.3">1.8.3</option>
        <option value="1.7.1">1.7.1</option>
        <option value="1.6.0">1.6.0</option>
        <option value="1.5.4">1.5.4</option>
        <option value="1.4.1">1.4.1</option>
        <option value="1.3.0">1.3.0</option>
        <option value="1.2.0">1.2.0</option>
        <option value="1.1.1">1.1.1</option>
        <option value="1.0.0">1.0.0</option>
</select>
<script>
    var split_at = "/docs/";
    if (window.location.href.includes('github.io')) {
        split_at = "github.io/fizgrid/";
    }
    // Set the currently selected option to be equivalent to that of the url version.
    var version = 'latest';
    var version_path = window.location.href.split(split_at)[1];
    if (version_path.includes('/')) {
        if (version_path.split('/')[0].match(/^\d+\.\d+\.\d+$/)) {
            version = version_path.split('/')[0];
        }
    }
    document.getElementById('version-selector').value = version;

    document.getElementById('version-selector').onchange = function() {
        var version = this.value;
        if (version == 'latest') {
            var new_url = '';
        } else {
            var new_url = version + '/';
        }
        var url = window.location.href.split(split_at)[0] + split_at + new_url + 'index.html';
        console.log(url);
        window.location.href = url;
    }
</script>
</footer>

        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22160%22%20viewBox%3D%220%200%20150%2080%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M132.316%2048.886c.276-4.679%202.342-6.698%204.409-7.982s4.27-1.165%206.751-1.055c1.586.07%203.044.156%204.222-.482%201.142-.619%202.026-1.932%202.162-3.739.268-3.576-1.929-5.368-5.006-5.551s-7.599.524-10.517%201.606c-4.455%201.652-8.588%206.606-9.552%208.992s-2.342%206.193-1.745%2010.873%202.664%209.221%205.878%2011.79%205.878%203.808%2010.103%204.312%203.444.229%206.062.229%205.006-2.202%204.914-4.909-2.296-5.001-4.501-4.863-3.077.505-5.281.229-7.715-2.064-7.899-9.451z%22%20fill%3D%22%23198754%22/%3E%3Ccircle%20cx%3D%22101.504%22%20cy%3D%2248.943%22%20r%3D%2214.208%22%20fill%3D%22none%22%20stroke%3D%22%23198754%22%20stroke-width%3D%229.354%22/%3E%3Cpath%20d%3D%22M87.81.002c-3.637.065-5.001.454-7.014%201.232s-3.443%201.363-6.3%204.282c-1.723%201.76-3.148%205.019-3.776%207.329-.413%201.521-.316%202.63-.316%202.63l-.195%2034.612c.065%205.774-6.755%208.305-9.612%208.37s-9.678-1.038-9.743-9.408%207.128-9.521%208.362-9.521c1.413-.13%202.526-.021%203.718-.016%202.071.009%204.157-.778%204.092-4.671s-4.157-4.736-4.157-4.736c-6.3-.843-11.43%202.206-11.43%202.206S40.917%2038.15%2041.372%2049.634%2051.568%2068.19%2061.311%2068.125s18.316-7.007%2018.445-17.193l.13-22.772c.046-2.291%202.683-3.644%204.476-4.203.745-.232%201.694-.274%201.694-.274l10.457-.13s4.871-.324%207.729-3.114%204.352-6.294%204.352-6.294.974-3.049.13-4.606-.195-1.233-2.792-3.309-8.573-4.477-8.573-4.477S91.447-.063%2087.81.002zM0%2047.169l.065%2028.417S0%2080.127%204.481%2079.997s5.072-3.866%205.049-4.152l-.113-28.482s1.624-7.656%209.937-7.721%2010.002%206.942%2010.002%208.499-.909%2010.51-9.093%2010.51c-.948%200-2.99-.567-4.145-.272-3.919%201-3.194%204.554-3.194%204.554s.065%205.061%207.404%204.996%2018.575-6.034%2018.575-19.074S26.953%2030.04%2019.549%2029.91%201.234%2035.296%200%2047.169z%22%20fill%3D%22%23198754%22/%3E%3Cg%20transform%3D%22matrix%28.325601%200%200%20.325256%20-10.32669%20-45.802786%29%22%3E%3Ccircle%20cx%3D%22297.554%22%20cy%3D%22172.286%22%20r%3D%2216.5%22%20fill%3D%22%23fff%22/%3E%3Cellipse%20cx%3D%22297.709%22%20cy%3D%22172.642%22%20rx%3D%2211.071%22%20ry%3D%2210.871%22%20fill%3D%22%23105a48%22/%3E%3Ccircle%20cx%3D%22304.104%22%20cy%3D%22167.667%22%20r%3D%224.5%22%20fill%3D%22%23fff%22/%3E%3C/g%3E%3Cpath%20d%3D%22M94.661%2017.032l.893-1.476s.99.714%201.916.925%201.575.114%202.955.114l14.565-.162c1.283-.032%203.085-.762%203.02-3.293s-.373-3.503-.373-3.503l1.283-.487s.52.503.877%201.573.309%201.995.292%202.66-.227%201.541-.227%201.541%201.564-.308%202.359-1.038.823-.779%201.489-1.508.812-.86.812-.86.552-.13.877.26.341.957.065%201.46-1.672%202.206-3.247%203.066-2.76%201.427-3.929%201.768-3.848.73-7.063.714l-10.944-.114s-2.143-.081-3.02-.373-2.241-.973-2.598-1.265z%22%20fill%3D%22%23d36d49%22/%3E%3Cg%20fill%3D%22%23105a48%22%3E%3Cellipse%20cx%3D%2293.052%22%20cy%3D%2243.567%22%20rx%3D%22.869%22%20ry%3D%221.014%22%20transform%3D%22rotate%28341.022%29%22/%3E%3Cellipse%20cx%3D%22104.3%22%20cy%3D%22-16.184%22%20rx%3D%22.865%22%20ry%3D%221.009%22%20transform%3D%22rotate%2814.786%29%22/%3E%3C/g%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
<a href="./../fizgrid.html">fizgrid</a><wbr>.queue    </h1>

                
                        <input id="mod-queue-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-queue-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">  1</span></a><span class="kn">import</span><span class="w"> </span><span class="nn">type_enforced</span><span class="o">,</span><span class="w"> </span><span class="nn">heapq</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos">  2</span></a>
</span><span id="L-3"><a href="#L-3"><span class="linenos">  3</span></a>
</span><span id="L-4"><a href="#L-4"><span class="linenos">  4</span></a><span class="nd">@type_enforced</span><span class="o">.</span><span class="n">Enforcer</span><span class="p">(</span><span class="n">enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-5"><a href="#L-5"><span class="linenos">  5</span></a><span class="k">class</span><span class="w"> </span><span class="nc">TimeQueue</span><span class="p">:</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos">  6</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos">  7</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos">  8</span></a><span class="sd">        Initializes a TimeQueue instance.</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos">  9</span></a><span class="sd">        This class is used to manage a queue of events that occur at specific times.</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos"> 10</span></a><span class="sd">        It uses a min-heap to efficiently manage the events based on their scheduled times.</span>
</span><span id="L-11"><a href="#L-11"><span class="linenos"> 11</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos"> 12</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">__heap__</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-13"><a href="#L-13"><span class="linenos"> 13</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">__data__</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos"> 14</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">__time__</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos"> 15</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">__next_id__</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-16"><a href="#L-16"><span class="linenos"> 16</span></a>
</span><span id="L-17"><a href="#L-17"><span class="linenos"> 17</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">add_event</span><span class="p">(</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos"> 18</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">time</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">float</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(),</span> <span class="n">priority</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos"> 19</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos"> 20</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos"> 21</span></a><span class="sd">        Adds an event to the queue.</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos"> 22</span></a>
</span><span id="L-23"><a href="#L-23"><span class="linenos"> 23</span></a><span class="sd">        Args:</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos"> 24</span></a>
</span><span id="L-25"><a href="#L-25"><span class="linenos"> 25</span></a><span class="sd">        - time (int|float): The time at which the event should occur.</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos"> 26</span></a><span class="sd">        - event (dict): The event to be added to the queue.</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos"> 27</span></a><span class="sd">            - Default: {}</span>
</span><span id="L-28"><a href="#L-28"><span class="linenos"> 28</span></a><span class="sd">            - This have any dictionary strucutre, depending on your queue needs</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos"> 29</span></a><span class="sd">        - priority (int): The priority of the event.</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos"> 30</span></a><span class="sd">            - Default: 0</span>
</span><span id="L-31"><a href="#L-31"><span class="linenos"> 31</span></a><span class="sd">            - Higher values indicate higher priority.</span>
</span><span id="L-32"><a href="#L-32"><span class="linenos"> 32</span></a><span class="sd">            - This is used to determine the order of events with the same time.</span>
</span><span id="L-33"><a href="#L-33"><span class="linenos"> 33</span></a><span class="sd">            - If two events have the same time, the one with the higher priority will be processed first.</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos"> 34</span></a><span class="sd">            - If the priority is the same, the event with the lower ID will be processed first.</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos"> 35</span></a>
</span><span id="L-36"><a href="#L-36"><span class="linenos"> 36</span></a><span class="sd">        Returns:</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos"> 37</span></a>
</span><span id="L-38"><a href="#L-38"><span class="linenos"> 38</span></a><span class="sd">        - int: The ID of the added event.</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos"> 39</span></a><span class="sd">            - This ID is used to reference the event in the queue.</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos"> 40</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos"> 41</span></a>        <span class="k">assert</span> <span class="p">(</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos"> 42</span></a>            <span class="n">time</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__time__</span>
</span><span id="L-43"><a href="#L-43"><span class="linenos"> 43</span></a>        <span class="p">),</span> <span class="s2">&quot;Time must be greater than or equal to current time&quot;</span>
</span><span id="L-44"><a href="#L-44"><span class="linenos"> 44</span></a>        <span class="nb">id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__next_id__</span>
</span><span id="L-45"><a href="#L-45"><span class="linenos"> 45</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">__next_id__</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="L-46"><a href="#L-46"><span class="linenos"> 46</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">__data__</span><span class="p">[</span><span class="nb">id</span><span class="p">]</span> <span class="o">=</span> <span class="n">event</span>
</span><span id="L-47"><a href="#L-47"><span class="linenos"> 47</span></a>        <span class="n">heapq</span><span class="o">.</span><span class="n">heappush</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__heap__</span><span class="p">,</span> <span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="o">-</span><span class="n">priority</span><span class="p">,</span> <span class="nb">id</span><span class="p">))</span>
</span><span id="L-48"><a href="#L-48"><span class="linenos"> 48</span></a>        <span class="k">return</span> <span class="nb">id</span>
</span><span id="L-49"><a href="#L-49"><span class="linenos"> 49</span></a>
</span><span id="L-50"><a href="#L-50"><span class="linenos"> 50</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">remove_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-51"><a href="#L-51"><span class="linenos"> 51</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-52"><a href="#L-52"><span class="linenos"> 52</span></a><span class="sd">        Removes an event from the queue using its ID.</span>
</span><span id="L-53"><a href="#L-53"><span class="linenos"> 53</span></a>
</span><span id="L-54"><a href="#L-54"><span class="linenos"> 54</span></a><span class="sd">        Args:</span>
</span><span id="L-55"><a href="#L-55"><span class="linenos"> 55</span></a>
</span><span id="L-56"><a href="#L-56"><span class="linenos"> 56</span></a><span class="sd">            - id (int): The ID of the event to be removed.</span>
</span><span id="L-57"><a href="#L-57"><span class="linenos"> 57</span></a><span class="sd">                - This ID is used to reference the event in the queue.</span>
</span><span id="L-58"><a href="#L-58"><span class="linenos"> 58</span></a><span class="sd">        Returns:</span>
</span><span id="L-59"><a href="#L-59"><span class="linenos"> 59</span></a><span class="sd">            - dict: The removed event.</span>
</span><span id="L-60"><a href="#L-60"><span class="linenos"> 60</span></a><span class="sd">                - If the event is not found, None is returned.</span>
</span><span id="L-61"><a href="#L-61"><span class="linenos"> 61</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-62"><a href="#L-62"><span class="linenos"> 62</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data__</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="L-63"><a href="#L-63"><span class="linenos"> 63</span></a>
</span><span id="L-64"><a href="#L-64"><span class="linenos"> 64</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">remove_next_event</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-65"><a href="#L-65"><span class="linenos"> 65</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-66"><a href="#L-66"><span class="linenos"> 66</span></a><span class="sd">        Removes the next event from the queue.</span>
</span><span id="L-67"><a href="#L-67"><span class="linenos"> 67</span></a><span class="sd">        This method is used to get the next event in the queue and remove it from the heap.</span>
</span><span id="L-68"><a href="#L-68"><span class="linenos"> 68</span></a>
</span><span id="L-69"><a href="#L-69"><span class="linenos"> 69</span></a><span class="sd">        Returns:</span>
</span><span id="L-70"><a href="#L-70"><span class="linenos"> 70</span></a>
</span><span id="L-71"><a href="#L-71"><span class="linenos"> 71</span></a><span class="sd">        - dict: The removed event.</span>
</span><span id="L-72"><a href="#L-72"><span class="linenos"> 72</span></a><span class="sd">            - If the queue is empty, None is returned.</span>
</span><span id="L-73"><a href="#L-73"><span class="linenos"> 73</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-74"><a href="#L-74"><span class="linenos"> 74</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">remove_event</span><span class="p">(</span><span class="n">heapq</span><span class="o">.</span><span class="n">heappop</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__heap__</span><span class="p">)[</span><span class="mi">2</span><span class="p">])</span>
</span><span id="L-75"><a href="#L-75"><span class="linenos"> 75</span></a>
</span><span id="L-76"><a href="#L-76"><span class="linenos"> 76</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_next_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">peek</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
</span><span id="L-77"><a href="#L-77"><span class="linenos"> 77</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-78"><a href="#L-78"><span class="linenos"> 78</span></a><span class="sd">        Retrieves the next event from the queue without removing it.</span>
</span><span id="L-79"><a href="#L-79"><span class="linenos"> 79</span></a><span class="sd">        This method is used to get the next event in the queue</span>
</span><span id="L-80"><a href="#L-80"><span class="linenos"> 80</span></a>
</span><span id="L-81"><a href="#L-81"><span class="linenos"> 81</span></a><span class="sd">        Args:</span>
</span><span id="L-82"><a href="#L-82"><span class="linenos"> 82</span></a>
</span><span id="L-83"><a href="#L-83"><span class="linenos"> 83</span></a><span class="sd">        - peek (bool): If True, the event is not removed from the queue.</span>
</span><span id="L-84"><a href="#L-84"><span class="linenos"> 84</span></a><span class="sd">            - Default: False</span>
</span><span id="L-85"><a href="#L-85"><span class="linenos"> 85</span></a><span class="sd">            - If False, the event is removed from the queue.</span>
</span><span id="L-86"><a href="#L-86"><span class="linenos"> 86</span></a>
</span><span id="L-87"><a href="#L-87"><span class="linenos"> 87</span></a><span class="sd">        Returns:</span>
</span><span id="L-88"><a href="#L-88"><span class="linenos"> 88</span></a>
</span><span id="L-89"><a href="#L-89"><span class="linenos"> 89</span></a><span class="sd">        - dict: The next event in the queue.</span>
</span><span id="L-90"><a href="#L-90"><span class="linenos"> 90</span></a><span class="sd">            - If the queue is empty, None is returned.</span>
</span><span id="L-91"><a href="#L-91"><span class="linenos"> 91</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-92"><a href="#L-92"><span class="linenos"> 92</span></a>        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">__heap__</span><span class="p">:</span>
</span><span id="L-93"><a href="#L-93"><span class="linenos"> 93</span></a>            <span class="k">if</span> <span class="n">peek</span><span class="p">:</span>
</span><span id="L-94"><a href="#L-94"><span class="linenos"> 94</span></a>                <span class="n">time</span><span class="p">,</span> <span class="n">priority</span><span class="p">,</span> <span class="nb">id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__heap__</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-95"><a href="#L-95"><span class="linenos"> 95</span></a>                <span class="n">event</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="L-96"><a href="#L-96"><span class="linenos"> 96</span></a>                <span class="k">if</span> <span class="n">event</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-97"><a href="#L-97"><span class="linenos"> 97</span></a>                    <span class="c1"># Remove the event from the heap to avoid stale references</span>
</span><span id="L-98"><a href="#L-98"><span class="linenos"> 98</span></a>                    <span class="n">heapq</span><span class="o">.</span><span class="n">heappop</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__heap__</span><span class="p">)</span>
</span><span id="L-99"><a href="#L-99"><span class="linenos"> 99</span></a>                    <span class="k">continue</span>
</span><span id="L-100"><a href="#L-100"><span class="linenos">100</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-101"><a href="#L-101"><span class="linenos">101</span></a>                <span class="n">time</span><span class="p">,</span> <span class="n">priority</span><span class="p">,</span> <span class="nb">id</span> <span class="o">=</span> <span class="n">heapq</span><span class="o">.</span><span class="n">heappop</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__heap__</span><span class="p">)</span>
</span><span id="L-102"><a href="#L-102"><span class="linenos">102</span></a>                <span class="n">event</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">remove_event</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
</span><span id="L-103"><a href="#L-103"><span class="linenos">103</span></a>                <span class="k">if</span> <span class="n">event</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-104"><a href="#L-104"><span class="linenos">104</span></a>                    <span class="k">continue</span>
</span><span id="L-105"><a href="#L-105"><span class="linenos">105</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">__time__</span> <span class="o">=</span> <span class="n">time</span>
</span><span id="L-106"><a href="#L-106"><span class="linenos">106</span></a>            <span class="k">return</span> <span class="p">{</span>
</span><span id="L-107"><a href="#L-107"><span class="linenos">107</span></a>                <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="nb">id</span><span class="p">,</span>
</span><span id="L-108"><a href="#L-108"><span class="linenos">108</span></a>                <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="n">time</span><span class="p">,</span>
</span><span id="L-109"><a href="#L-109"><span class="linenos">109</span></a>                <span class="s2">&quot;event&quot;</span><span class="p">:</span> <span class="n">event</span><span class="p">,</span>
</span><span id="L-110"><a href="#L-110"><span class="linenos">110</span></a>            <span class="p">}</span>
</span><span id="L-111"><a href="#L-111"><span class="linenos">111</span></a>        <span class="k">return</span> <span class="p">{</span>
</span><span id="L-112"><a href="#L-112"><span class="linenos">112</span></a>            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-113"><a href="#L-113"><span class="linenos">113</span></a>            <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-114"><a href="#L-114"><span class="linenos">114</span></a>            <span class="s2">&quot;event&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-115"><a href="#L-115"><span class="linenos">115</span></a>        <span class="p">}</span>
</span><span id="L-116"><a href="#L-116"><span class="linenos">116</span></a>
</span><span id="L-117"><a href="#L-117"><span class="linenos">117</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_next_events</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>
</span><span id="L-118"><a href="#L-118"><span class="linenos">118</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-119"><a href="#L-119"><span class="linenos">119</span></a><span class="sd">        Retrieves all events that occur at the same time as the next event.</span>
</span><span id="L-120"><a href="#L-120"><span class="linenos">120</span></a><span class="sd">        This method is used to get all events that occur at the same time as the next event in the queue.</span>
</span><span id="L-121"><a href="#L-121"><span class="linenos">121</span></a><span class="sd">        It removes these events from the queue.</span>
</span><span id="L-122"><a href="#L-122"><span class="linenos">122</span></a>
</span><span id="L-123"><a href="#L-123"><span class="linenos">123</span></a><span class="sd">        Returns:</span>
</span><span id="L-124"><a href="#L-124"><span class="linenos">124</span></a>
</span><span id="L-125"><a href="#L-125"><span class="linenos">125</span></a><span class="sd">        - list: A list of events that occur at the same time as the next event.</span>
</span><span id="L-126"><a href="#L-126"><span class="linenos">126</span></a><span class="sd">            - If the queue is empty, an empty list is returned.</span>
</span><span id="L-127"><a href="#L-127"><span class="linenos">127</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-128"><a href="#L-128"><span class="linenos">128</span></a>        <span class="n">events</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-129"><a href="#L-129"><span class="linenos">129</span></a>        <span class="n">event</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_next_event</span><span class="p">(</span><span class="n">peek</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-130"><a href="#L-130"><span class="linenos">130</span></a>        <span class="k">if</span> <span class="n">event</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-131"><a href="#L-131"><span class="linenos">131</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">__time__</span> <span class="o">=</span> <span class="n">event</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span>
</span><span id="L-132"><a href="#L-132"><span class="linenos">132</span></a>            <span class="n">next_event</span> <span class="o">=</span> <span class="n">event</span>
</span><span id="L-133"><a href="#L-133"><span class="linenos">133</span></a>            <span class="k">while</span> <span class="n">next_event</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">__time__</span><span class="p">:</span>
</span><span id="L-134"><a href="#L-134"><span class="linenos">134</span></a>                <span class="n">event</span> <span class="o">=</span> <span class="n">next_event</span>
</span><span id="L-135"><a href="#L-135"><span class="linenos">135</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">remove_next_event</span><span class="p">()</span>
</span><span id="L-136"><a href="#L-136"><span class="linenos">136</span></a>                <span class="n">events</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</span><span id="L-137"><a href="#L-137"><span class="linenos">137</span></a>                <span class="n">next_event</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_next_event</span><span class="p">(</span><span class="n">peek</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-138"><a href="#L-138"><span class="linenos">138</span></a>        <span class="k">return</span> <span class="n">events</span>
</span></pre></div>


            </section>
                <section id="TimeQueue">
                            <input id="TimeQueue-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator decorator-type_enforced.Enforcer">@type_enforced.Enforcer(enabled=True)</div>

    <span class="def">class</span>
    <span class="name">TimeQueue</span>:

                <label class="view-source-button" for="TimeQueue-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#TimeQueue"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="TimeQueue-5"><a href="#TimeQueue-5"><span class="linenos">  5</span></a><span class="nd">@type_enforced</span><span class="o">.</span><span class="n">Enforcer</span><span class="p">(</span><span class="n">enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="TimeQueue-6"><a href="#TimeQueue-6"><span class="linenos">  6</span></a><span class="k">class</span><span class="w"> </span><span class="nc">TimeQueue</span><span class="p">:</span>
</span><span id="TimeQueue-7"><a href="#TimeQueue-7"><span class="linenos">  7</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="TimeQueue-8"><a href="#TimeQueue-8"><span class="linenos">  8</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="TimeQueue-9"><a href="#TimeQueue-9"><span class="linenos">  9</span></a><span class="sd">        Initializes a TimeQueue instance.</span>
</span><span id="TimeQueue-10"><a href="#TimeQueue-10"><span class="linenos"> 10</span></a><span class="sd">        This class is used to manage a queue of events that occur at specific times.</span>
</span><span id="TimeQueue-11"><a href="#TimeQueue-11"><span class="linenos"> 11</span></a><span class="sd">        It uses a min-heap to efficiently manage the events based on their scheduled times.</span>
</span><span id="TimeQueue-12"><a href="#TimeQueue-12"><span class="linenos"> 12</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="TimeQueue-13"><a href="#TimeQueue-13"><span class="linenos"> 13</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">__heap__</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="TimeQueue-14"><a href="#TimeQueue-14"><span class="linenos"> 14</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">__data__</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="TimeQueue-15"><a href="#TimeQueue-15"><span class="linenos"> 15</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">__time__</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="TimeQueue-16"><a href="#TimeQueue-16"><span class="linenos"> 16</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">__next_id__</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="TimeQueue-17"><a href="#TimeQueue-17"><span class="linenos"> 17</span></a>
</span><span id="TimeQueue-18"><a href="#TimeQueue-18"><span class="linenos"> 18</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">add_event</span><span class="p">(</span>
</span><span id="TimeQueue-19"><a href="#TimeQueue-19"><span class="linenos"> 19</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">time</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">float</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(),</span> <span class="n">priority</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="TimeQueue-20"><a href="#TimeQueue-20"><span class="linenos"> 20</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="TimeQueue-21"><a href="#TimeQueue-21"><span class="linenos"> 21</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="TimeQueue-22"><a href="#TimeQueue-22"><span class="linenos"> 22</span></a><span class="sd">        Adds an event to the queue.</span>
</span><span id="TimeQueue-23"><a href="#TimeQueue-23"><span class="linenos"> 23</span></a>
</span><span id="TimeQueue-24"><a href="#TimeQueue-24"><span class="linenos"> 24</span></a><span class="sd">        Args:</span>
</span><span id="TimeQueue-25"><a href="#TimeQueue-25"><span class="linenos"> 25</span></a>
</span><span id="TimeQueue-26"><a href="#TimeQueue-26"><span class="linenos"> 26</span></a><span class="sd">        - time (int|float): The time at which the event should occur.</span>
</span><span id="TimeQueue-27"><a href="#TimeQueue-27"><span class="linenos"> 27</span></a><span class="sd">        - event (dict): The event to be added to the queue.</span>
</span><span id="TimeQueue-28"><a href="#TimeQueue-28"><span class="linenos"> 28</span></a><span class="sd">            - Default: {}</span>
</span><span id="TimeQueue-29"><a href="#TimeQueue-29"><span class="linenos"> 29</span></a><span class="sd">            - This have any dictionary strucutre, depending on your queue needs</span>
</span><span id="TimeQueue-30"><a href="#TimeQueue-30"><span class="linenos"> 30</span></a><span class="sd">        - priority (int): The priority of the event.</span>
</span><span id="TimeQueue-31"><a href="#TimeQueue-31"><span class="linenos"> 31</span></a><span class="sd">            - Default: 0</span>
</span><span id="TimeQueue-32"><a href="#TimeQueue-32"><span class="linenos"> 32</span></a><span class="sd">            - Higher values indicate higher priority.</span>
</span><span id="TimeQueue-33"><a href="#TimeQueue-33"><span class="linenos"> 33</span></a><span class="sd">            - This is used to determine the order of events with the same time.</span>
</span><span id="TimeQueue-34"><a href="#TimeQueue-34"><span class="linenos"> 34</span></a><span class="sd">            - If two events have the same time, the one with the higher priority will be processed first.</span>
</span><span id="TimeQueue-35"><a href="#TimeQueue-35"><span class="linenos"> 35</span></a><span class="sd">            - If the priority is the same, the event with the lower ID will be processed first.</span>
</span><span id="TimeQueue-36"><a href="#TimeQueue-36"><span class="linenos"> 36</span></a>
</span><span id="TimeQueue-37"><a href="#TimeQueue-37"><span class="linenos"> 37</span></a><span class="sd">        Returns:</span>
</span><span id="TimeQueue-38"><a href="#TimeQueue-38"><span class="linenos"> 38</span></a>
</span><span id="TimeQueue-39"><a href="#TimeQueue-39"><span class="linenos"> 39</span></a><span class="sd">        - int: The ID of the added event.</span>
</span><span id="TimeQueue-40"><a href="#TimeQueue-40"><span class="linenos"> 40</span></a><span class="sd">            - This ID is used to reference the event in the queue.</span>
</span><span id="TimeQueue-41"><a href="#TimeQueue-41"><span class="linenos"> 41</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="TimeQueue-42"><a href="#TimeQueue-42"><span class="linenos"> 42</span></a>        <span class="k">assert</span> <span class="p">(</span>
</span><span id="TimeQueue-43"><a href="#TimeQueue-43"><span class="linenos"> 43</span></a>            <span class="n">time</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__time__</span>
</span><span id="TimeQueue-44"><a href="#TimeQueue-44"><span class="linenos"> 44</span></a>        <span class="p">),</span> <span class="s2">&quot;Time must be greater than or equal to current time&quot;</span>
</span><span id="TimeQueue-45"><a href="#TimeQueue-45"><span class="linenos"> 45</span></a>        <span class="nb">id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__next_id__</span>
</span><span id="TimeQueue-46"><a href="#TimeQueue-46"><span class="linenos"> 46</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">__next_id__</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="TimeQueue-47"><a href="#TimeQueue-47"><span class="linenos"> 47</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">__data__</span><span class="p">[</span><span class="nb">id</span><span class="p">]</span> <span class="o">=</span> <span class="n">event</span>
</span><span id="TimeQueue-48"><a href="#TimeQueue-48"><span class="linenos"> 48</span></a>        <span class="n">heapq</span><span class="o">.</span><span class="n">heappush</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__heap__</span><span class="p">,</span> <span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="o">-</span><span class="n">priority</span><span class="p">,</span> <span class="nb">id</span><span class="p">))</span>
</span><span id="TimeQueue-49"><a href="#TimeQueue-49"><span class="linenos"> 49</span></a>        <span class="k">return</span> <span class="nb">id</span>
</span><span id="TimeQueue-50"><a href="#TimeQueue-50"><span class="linenos"> 50</span></a>
</span><span id="TimeQueue-51"><a href="#TimeQueue-51"><span class="linenos"> 51</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">remove_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="TimeQueue-52"><a href="#TimeQueue-52"><span class="linenos"> 52</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="TimeQueue-53"><a href="#TimeQueue-53"><span class="linenos"> 53</span></a><span class="sd">        Removes an event from the queue using its ID.</span>
</span><span id="TimeQueue-54"><a href="#TimeQueue-54"><span class="linenos"> 54</span></a>
</span><span id="TimeQueue-55"><a href="#TimeQueue-55"><span class="linenos"> 55</span></a><span class="sd">        Args:</span>
</span><span id="TimeQueue-56"><a href="#TimeQueue-56"><span class="linenos"> 56</span></a>
</span><span id="TimeQueue-57"><a href="#TimeQueue-57"><span class="linenos"> 57</span></a><span class="sd">            - id (int): The ID of the event to be removed.</span>
</span><span id="TimeQueue-58"><a href="#TimeQueue-58"><span class="linenos"> 58</span></a><span class="sd">                - This ID is used to reference the event in the queue.</span>
</span><span id="TimeQueue-59"><a href="#TimeQueue-59"><span class="linenos"> 59</span></a><span class="sd">        Returns:</span>
</span><span id="TimeQueue-60"><a href="#TimeQueue-60"><span class="linenos"> 60</span></a><span class="sd">            - dict: The removed event.</span>
</span><span id="TimeQueue-61"><a href="#TimeQueue-61"><span class="linenos"> 61</span></a><span class="sd">                - If the event is not found, None is returned.</span>
</span><span id="TimeQueue-62"><a href="#TimeQueue-62"><span class="linenos"> 62</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="TimeQueue-63"><a href="#TimeQueue-63"><span class="linenos"> 63</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data__</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="TimeQueue-64"><a href="#TimeQueue-64"><span class="linenos"> 64</span></a>
</span><span id="TimeQueue-65"><a href="#TimeQueue-65"><span class="linenos"> 65</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">remove_next_event</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="TimeQueue-66"><a href="#TimeQueue-66"><span class="linenos"> 66</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="TimeQueue-67"><a href="#TimeQueue-67"><span class="linenos"> 67</span></a><span class="sd">        Removes the next event from the queue.</span>
</span><span id="TimeQueue-68"><a href="#TimeQueue-68"><span class="linenos"> 68</span></a><span class="sd">        This method is used to get the next event in the queue and remove it from the heap.</span>
</span><span id="TimeQueue-69"><a href="#TimeQueue-69"><span class="linenos"> 69</span></a>
</span><span id="TimeQueue-70"><a href="#TimeQueue-70"><span class="linenos"> 70</span></a><span class="sd">        Returns:</span>
</span><span id="TimeQueue-71"><a href="#TimeQueue-71"><span class="linenos"> 71</span></a>
</span><span id="TimeQueue-72"><a href="#TimeQueue-72"><span class="linenos"> 72</span></a><span class="sd">        - dict: The removed event.</span>
</span><span id="TimeQueue-73"><a href="#TimeQueue-73"><span class="linenos"> 73</span></a><span class="sd">            - If the queue is empty, None is returned.</span>
</span><span id="TimeQueue-74"><a href="#TimeQueue-74"><span class="linenos"> 74</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="TimeQueue-75"><a href="#TimeQueue-75"><span class="linenos"> 75</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">remove_event</span><span class="p">(</span><span class="n">heapq</span><span class="o">.</span><span class="n">heappop</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__heap__</span><span class="p">)[</span><span class="mi">2</span><span class="p">])</span>
</span><span id="TimeQueue-76"><a href="#TimeQueue-76"><span class="linenos"> 76</span></a>
</span><span id="TimeQueue-77"><a href="#TimeQueue-77"><span class="linenos"> 77</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_next_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">peek</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
</span><span id="TimeQueue-78"><a href="#TimeQueue-78"><span class="linenos"> 78</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="TimeQueue-79"><a href="#TimeQueue-79"><span class="linenos"> 79</span></a><span class="sd">        Retrieves the next event from the queue without removing it.</span>
</span><span id="TimeQueue-80"><a href="#TimeQueue-80"><span class="linenos"> 80</span></a><span class="sd">        This method is used to get the next event in the queue</span>
</span><span id="TimeQueue-81"><a href="#TimeQueue-81"><span class="linenos"> 81</span></a>
</span><span id="TimeQueue-82"><a href="#TimeQueue-82"><span class="linenos"> 82</span></a><span class="sd">        Args:</span>
</span><span id="TimeQueue-83"><a href="#TimeQueue-83"><span class="linenos"> 83</span></a>
</span><span id="TimeQueue-84"><a href="#TimeQueue-84"><span class="linenos"> 84</span></a><span class="sd">        - peek (bool): If True, the event is not removed from the queue.</span>
</span><span id="TimeQueue-85"><a href="#TimeQueue-85"><span class="linenos"> 85</span></a><span class="sd">            - Default: False</span>
</span><span id="TimeQueue-86"><a href="#TimeQueue-86"><span class="linenos"> 86</span></a><span class="sd">            - If False, the event is removed from the queue.</span>
</span><span id="TimeQueue-87"><a href="#TimeQueue-87"><span class="linenos"> 87</span></a>
</span><span id="TimeQueue-88"><a href="#TimeQueue-88"><span class="linenos"> 88</span></a><span class="sd">        Returns:</span>
</span><span id="TimeQueue-89"><a href="#TimeQueue-89"><span class="linenos"> 89</span></a>
</span><span id="TimeQueue-90"><a href="#TimeQueue-90"><span class="linenos"> 90</span></a><span class="sd">        - dict: The next event in the queue.</span>
</span><span id="TimeQueue-91"><a href="#TimeQueue-91"><span class="linenos"> 91</span></a><span class="sd">            - If the queue is empty, None is returned.</span>
</span><span id="TimeQueue-92"><a href="#TimeQueue-92"><span class="linenos"> 92</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="TimeQueue-93"><a href="#TimeQueue-93"><span class="linenos"> 93</span></a>        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">__heap__</span><span class="p">:</span>
</span><span id="TimeQueue-94"><a href="#TimeQueue-94"><span class="linenos"> 94</span></a>            <span class="k">if</span> <span class="n">peek</span><span class="p">:</span>
</span><span id="TimeQueue-95"><a href="#TimeQueue-95"><span class="linenos"> 95</span></a>                <span class="n">time</span><span class="p">,</span> <span class="n">priority</span><span class="p">,</span> <span class="nb">id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__heap__</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="TimeQueue-96"><a href="#TimeQueue-96"><span class="linenos"> 96</span></a>                <span class="n">event</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="TimeQueue-97"><a href="#TimeQueue-97"><span class="linenos"> 97</span></a>                <span class="k">if</span> <span class="n">event</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="TimeQueue-98"><a href="#TimeQueue-98"><span class="linenos"> 98</span></a>                    <span class="c1"># Remove the event from the heap to avoid stale references</span>
</span><span id="TimeQueue-99"><a href="#TimeQueue-99"><span class="linenos"> 99</span></a>                    <span class="n">heapq</span><span class="o">.</span><span class="n">heappop</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__heap__</span><span class="p">)</span>
</span><span id="TimeQueue-100"><a href="#TimeQueue-100"><span class="linenos">100</span></a>                    <span class="k">continue</span>
</span><span id="TimeQueue-101"><a href="#TimeQueue-101"><span class="linenos">101</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="TimeQueue-102"><a href="#TimeQueue-102"><span class="linenos">102</span></a>                <span class="n">time</span><span class="p">,</span> <span class="n">priority</span><span class="p">,</span> <span class="nb">id</span> <span class="o">=</span> <span class="n">heapq</span><span class="o">.</span><span class="n">heappop</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__heap__</span><span class="p">)</span>
</span><span id="TimeQueue-103"><a href="#TimeQueue-103"><span class="linenos">103</span></a>                <span class="n">event</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">remove_event</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
</span><span id="TimeQueue-104"><a href="#TimeQueue-104"><span class="linenos">104</span></a>                <span class="k">if</span> <span class="n">event</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="TimeQueue-105"><a href="#TimeQueue-105"><span class="linenos">105</span></a>                    <span class="k">continue</span>
</span><span id="TimeQueue-106"><a href="#TimeQueue-106"><span class="linenos">106</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">__time__</span> <span class="o">=</span> <span class="n">time</span>
</span><span id="TimeQueue-107"><a href="#TimeQueue-107"><span class="linenos">107</span></a>            <span class="k">return</span> <span class="p">{</span>
</span><span id="TimeQueue-108"><a href="#TimeQueue-108"><span class="linenos">108</span></a>                <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="nb">id</span><span class="p">,</span>
</span><span id="TimeQueue-109"><a href="#TimeQueue-109"><span class="linenos">109</span></a>                <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="n">time</span><span class="p">,</span>
</span><span id="TimeQueue-110"><a href="#TimeQueue-110"><span class="linenos">110</span></a>                <span class="s2">&quot;event&quot;</span><span class="p">:</span> <span class="n">event</span><span class="p">,</span>
</span><span id="TimeQueue-111"><a href="#TimeQueue-111"><span class="linenos">111</span></a>            <span class="p">}</span>
</span><span id="TimeQueue-112"><a href="#TimeQueue-112"><span class="linenos">112</span></a>        <span class="k">return</span> <span class="p">{</span>
</span><span id="TimeQueue-113"><a href="#TimeQueue-113"><span class="linenos">113</span></a>            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="TimeQueue-114"><a href="#TimeQueue-114"><span class="linenos">114</span></a>            <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="TimeQueue-115"><a href="#TimeQueue-115"><span class="linenos">115</span></a>            <span class="s2">&quot;event&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="TimeQueue-116"><a href="#TimeQueue-116"><span class="linenos">116</span></a>        <span class="p">}</span>
</span><span id="TimeQueue-117"><a href="#TimeQueue-117"><span class="linenos">117</span></a>
</span><span id="TimeQueue-118"><a href="#TimeQueue-118"><span class="linenos">118</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_next_events</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>
</span><span id="TimeQueue-119"><a href="#TimeQueue-119"><span class="linenos">119</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="TimeQueue-120"><a href="#TimeQueue-120"><span class="linenos">120</span></a><span class="sd">        Retrieves all events that occur at the same time as the next event.</span>
</span><span id="TimeQueue-121"><a href="#TimeQueue-121"><span class="linenos">121</span></a><span class="sd">        This method is used to get all events that occur at the same time as the next event in the queue.</span>
</span><span id="TimeQueue-122"><a href="#TimeQueue-122"><span class="linenos">122</span></a><span class="sd">        It removes these events from the queue.</span>
</span><span id="TimeQueue-123"><a href="#TimeQueue-123"><span class="linenos">123</span></a>
</span><span id="TimeQueue-124"><a href="#TimeQueue-124"><span class="linenos">124</span></a><span class="sd">        Returns:</span>
</span><span id="TimeQueue-125"><a href="#TimeQueue-125"><span class="linenos">125</span></a>
</span><span id="TimeQueue-126"><a href="#TimeQueue-126"><span class="linenos">126</span></a><span class="sd">        - list: A list of events that occur at the same time as the next event.</span>
</span><span id="TimeQueue-127"><a href="#TimeQueue-127"><span class="linenos">127</span></a><span class="sd">            - If the queue is empty, an empty list is returned.</span>
</span><span id="TimeQueue-128"><a href="#TimeQueue-128"><span class="linenos">128</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="TimeQueue-129"><a href="#TimeQueue-129"><span class="linenos">129</span></a>        <span class="n">events</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="TimeQueue-130"><a href="#TimeQueue-130"><span class="linenos">130</span></a>        <span class="n">event</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_next_event</span><span class="p">(</span><span class="n">peek</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="TimeQueue-131"><a href="#TimeQueue-131"><span class="linenos">131</span></a>        <span class="k">if</span> <span class="n">event</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="TimeQueue-132"><a href="#TimeQueue-132"><span class="linenos">132</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">__time__</span> <span class="o">=</span> <span class="n">event</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span>
</span><span id="TimeQueue-133"><a href="#TimeQueue-133"><span class="linenos">133</span></a>            <span class="n">next_event</span> <span class="o">=</span> <span class="n">event</span>
</span><span id="TimeQueue-134"><a href="#TimeQueue-134"><span class="linenos">134</span></a>            <span class="k">while</span> <span class="n">next_event</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">__time__</span><span class="p">:</span>
</span><span id="TimeQueue-135"><a href="#TimeQueue-135"><span class="linenos">135</span></a>                <span class="n">event</span> <span class="o">=</span> <span class="n">next_event</span>
</span><span id="TimeQueue-136"><a href="#TimeQueue-136"><span class="linenos">136</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">remove_next_event</span><span class="p">()</span>
</span><span id="TimeQueue-137"><a href="#TimeQueue-137"><span class="linenos">137</span></a>                <span class="n">events</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</span><span id="TimeQueue-138"><a href="#TimeQueue-138"><span class="linenos">138</span></a>                <span class="n">next_event</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_next_event</span><span class="p">(</span><span class="n">peek</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="TimeQueue-139"><a href="#TimeQueue-139"><span class="linenos">139</span></a>        <span class="k">return</span> <span class="n">events</span>
</span></pre></div>


    

                            <div id="TimeQueue.__init__" class="classattr">
                                        <input id="TimeQueue.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">TimeQueue</span><span class="signature pdoc-code condensed">()</span>

                <label class="view-source-button" for="TimeQueue.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#TimeQueue.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="TimeQueue.__init__-7"><a href="#TimeQueue.__init__-7"><span class="linenos"> 7</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="TimeQueue.__init__-8"><a href="#TimeQueue.__init__-8"><span class="linenos"> 8</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="TimeQueue.__init__-9"><a href="#TimeQueue.__init__-9"><span class="linenos"> 9</span></a><span class="sd">        Initializes a TimeQueue instance.</span>
</span><span id="TimeQueue.__init__-10"><a href="#TimeQueue.__init__-10"><span class="linenos">10</span></a><span class="sd">        This class is used to manage a queue of events that occur at specific times.</span>
</span><span id="TimeQueue.__init__-11"><a href="#TimeQueue.__init__-11"><span class="linenos">11</span></a><span class="sd">        It uses a min-heap to efficiently manage the events based on their scheduled times.</span>
</span><span id="TimeQueue.__init__-12"><a href="#TimeQueue.__init__-12"><span class="linenos">12</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="TimeQueue.__init__-13"><a href="#TimeQueue.__init__-13"><span class="linenos">13</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">__heap__</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="TimeQueue.__init__-14"><a href="#TimeQueue.__init__-14"><span class="linenos">14</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">__data__</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="TimeQueue.__init__-15"><a href="#TimeQueue.__init__-15"><span class="linenos">15</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">__time__</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="TimeQueue.__init__-16"><a href="#TimeQueue.__init__-16"><span class="linenos">16</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">__next_id__</span> <span class="o">=</span> <span class="mi">0</span>
</span></pre></div>


            <div class="docstring"><p>Initializes a TimeQueue instance.
This class is used to manage a queue of events that occur at specific times.
It uses a min-heap to efficiently manage the events based on their scheduled times.</p>
</div>


                            </div>
                            <div id="TimeQueue.add_event" class="classattr">
                                        <input id="TimeQueue.add_event-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">add_event</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">time</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">float</span>, </span><span class="param"><span class="n">event</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="p">{}</span>, </span><span class="param"><span class="n">priority</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span></span><span class="return-annotation">) -> <span class="nb">int</span>:</span></span>

                <label class="view-source-button" for="TimeQueue.add_event-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#TimeQueue.add_event"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="TimeQueue.add_event-18"><a href="#TimeQueue.add_event-18"><span class="linenos">18</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">add_event</span><span class="p">(</span>
</span><span id="TimeQueue.add_event-19"><a href="#TimeQueue.add_event-19"><span class="linenos">19</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">time</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">float</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(),</span> <span class="n">priority</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="TimeQueue.add_event-20"><a href="#TimeQueue.add_event-20"><span class="linenos">20</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="TimeQueue.add_event-21"><a href="#TimeQueue.add_event-21"><span class="linenos">21</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="TimeQueue.add_event-22"><a href="#TimeQueue.add_event-22"><span class="linenos">22</span></a><span class="sd">        Adds an event to the queue.</span>
</span><span id="TimeQueue.add_event-23"><a href="#TimeQueue.add_event-23"><span class="linenos">23</span></a>
</span><span id="TimeQueue.add_event-24"><a href="#TimeQueue.add_event-24"><span class="linenos">24</span></a><span class="sd">        Args:</span>
</span><span id="TimeQueue.add_event-25"><a href="#TimeQueue.add_event-25"><span class="linenos">25</span></a>
</span><span id="TimeQueue.add_event-26"><a href="#TimeQueue.add_event-26"><span class="linenos">26</span></a><span class="sd">        - time (int|float): The time at which the event should occur.</span>
</span><span id="TimeQueue.add_event-27"><a href="#TimeQueue.add_event-27"><span class="linenos">27</span></a><span class="sd">        - event (dict): The event to be added to the queue.</span>
</span><span id="TimeQueue.add_event-28"><a href="#TimeQueue.add_event-28"><span class="linenos">28</span></a><span class="sd">            - Default: {}</span>
</span><span id="TimeQueue.add_event-29"><a href="#TimeQueue.add_event-29"><span class="linenos">29</span></a><span class="sd">            - This have any dictionary strucutre, depending on your queue needs</span>
</span><span id="TimeQueue.add_event-30"><a href="#TimeQueue.add_event-30"><span class="linenos">30</span></a><span class="sd">        - priority (int): The priority of the event.</span>
</span><span id="TimeQueue.add_event-31"><a href="#TimeQueue.add_event-31"><span class="linenos">31</span></a><span class="sd">            - Default: 0</span>
</span><span id="TimeQueue.add_event-32"><a href="#TimeQueue.add_event-32"><span class="linenos">32</span></a><span class="sd">            - Higher values indicate higher priority.</span>
</span><span id="TimeQueue.add_event-33"><a href="#TimeQueue.add_event-33"><span class="linenos">33</span></a><span class="sd">            - This is used to determine the order of events with the same time.</span>
</span><span id="TimeQueue.add_event-34"><a href="#TimeQueue.add_event-34"><span class="linenos">34</span></a><span class="sd">            - If two events have the same time, the one with the higher priority will be processed first.</span>
</span><span id="TimeQueue.add_event-35"><a href="#TimeQueue.add_event-35"><span class="linenos">35</span></a><span class="sd">            - If the priority is the same, the event with the lower ID will be processed first.</span>
</span><span id="TimeQueue.add_event-36"><a href="#TimeQueue.add_event-36"><span class="linenos">36</span></a>
</span><span id="TimeQueue.add_event-37"><a href="#TimeQueue.add_event-37"><span class="linenos">37</span></a><span class="sd">        Returns:</span>
</span><span id="TimeQueue.add_event-38"><a href="#TimeQueue.add_event-38"><span class="linenos">38</span></a>
</span><span id="TimeQueue.add_event-39"><a href="#TimeQueue.add_event-39"><span class="linenos">39</span></a><span class="sd">        - int: The ID of the added event.</span>
</span><span id="TimeQueue.add_event-40"><a href="#TimeQueue.add_event-40"><span class="linenos">40</span></a><span class="sd">            - This ID is used to reference the event in the queue.</span>
</span><span id="TimeQueue.add_event-41"><a href="#TimeQueue.add_event-41"><span class="linenos">41</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="TimeQueue.add_event-42"><a href="#TimeQueue.add_event-42"><span class="linenos">42</span></a>        <span class="k">assert</span> <span class="p">(</span>
</span><span id="TimeQueue.add_event-43"><a href="#TimeQueue.add_event-43"><span class="linenos">43</span></a>            <span class="n">time</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__time__</span>
</span><span id="TimeQueue.add_event-44"><a href="#TimeQueue.add_event-44"><span class="linenos">44</span></a>        <span class="p">),</span> <span class="s2">&quot;Time must be greater than or equal to current time&quot;</span>
</span><span id="TimeQueue.add_event-45"><a href="#TimeQueue.add_event-45"><span class="linenos">45</span></a>        <span class="nb">id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__next_id__</span>
</span><span id="TimeQueue.add_event-46"><a href="#TimeQueue.add_event-46"><span class="linenos">46</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">__next_id__</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="TimeQueue.add_event-47"><a href="#TimeQueue.add_event-47"><span class="linenos">47</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">__data__</span><span class="p">[</span><span class="nb">id</span><span class="p">]</span> <span class="o">=</span> <span class="n">event</span>
</span><span id="TimeQueue.add_event-48"><a href="#TimeQueue.add_event-48"><span class="linenos">48</span></a>        <span class="n">heapq</span><span class="o">.</span><span class="n">heappush</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__heap__</span><span class="p">,</span> <span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="o">-</span><span class="n">priority</span><span class="p">,</span> <span class="nb">id</span><span class="p">))</span>
</span><span id="TimeQueue.add_event-49"><a href="#TimeQueue.add_event-49"><span class="linenos">49</span></a>        <span class="k">return</span> <span class="nb">id</span>
</span></pre></div>


            <div class="docstring"><p>Adds an event to the queue.</p>

<p>Args:</p>

<ul>
<li>time (int|float): The time at which the event should occur.</li>
<li>event (dict): The event to be added to the queue.
<ul>
<li>Default: {}</li>
<li>This have any dictionary strucutre, depending on your queue needs</li>
</ul></li>
<li>priority (int): The priority of the event.
<ul>
<li>Default: 0</li>
<li>Higher values indicate higher priority.</li>
<li>This is used to determine the order of events with the same time.</li>
<li>If two events have the same time, the one with the higher priority will be processed first.</li>
<li>If the priority is the same, the event with the lower ID will be processed first.</li>
</ul></li>
</ul>

<p>Returns:</p>

<ul>
<li>int: The ID of the added event.
<ul>
<li>This ID is used to reference the event in the queue.</li>
</ul></li>
</ul>
</div>


                            </div>
                            <div id="TimeQueue.remove_event" class="classattr">
                                        <input id="TimeQueue.remove_event-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">remove_event</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="nb">id</span><span class="p">:</span> <span class="nb">int</span></span><span class="return-annotation">) -> <span class="nb">dict</span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="TimeQueue.remove_event-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#TimeQueue.remove_event"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="TimeQueue.remove_event-51"><a href="#TimeQueue.remove_event-51"><span class="linenos">51</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">remove_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="TimeQueue.remove_event-52"><a href="#TimeQueue.remove_event-52"><span class="linenos">52</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="TimeQueue.remove_event-53"><a href="#TimeQueue.remove_event-53"><span class="linenos">53</span></a><span class="sd">        Removes an event from the queue using its ID.</span>
</span><span id="TimeQueue.remove_event-54"><a href="#TimeQueue.remove_event-54"><span class="linenos">54</span></a>
</span><span id="TimeQueue.remove_event-55"><a href="#TimeQueue.remove_event-55"><span class="linenos">55</span></a><span class="sd">        Args:</span>
</span><span id="TimeQueue.remove_event-56"><a href="#TimeQueue.remove_event-56"><span class="linenos">56</span></a>
</span><span id="TimeQueue.remove_event-57"><a href="#TimeQueue.remove_event-57"><span class="linenos">57</span></a><span class="sd">            - id (int): The ID of the event to be removed.</span>
</span><span id="TimeQueue.remove_event-58"><a href="#TimeQueue.remove_event-58"><span class="linenos">58</span></a><span class="sd">                - This ID is used to reference the event in the queue.</span>
</span><span id="TimeQueue.remove_event-59"><a href="#TimeQueue.remove_event-59"><span class="linenos">59</span></a><span class="sd">        Returns:</span>
</span><span id="TimeQueue.remove_event-60"><a href="#TimeQueue.remove_event-60"><span class="linenos">60</span></a><span class="sd">            - dict: The removed event.</span>
</span><span id="TimeQueue.remove_event-61"><a href="#TimeQueue.remove_event-61"><span class="linenos">61</span></a><span class="sd">                - If the event is not found, None is returned.</span>
</span><span id="TimeQueue.remove_event-62"><a href="#TimeQueue.remove_event-62"><span class="linenos">62</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="TimeQueue.remove_event-63"><a href="#TimeQueue.remove_event-63"><span class="linenos">63</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data__</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Removes an event from the queue using its ID.</p>

<p>Args:</p>

<pre><code>- id (int): The ID of the event to be removed.
    - This ID is used to reference the event in the queue.
</code></pre>

<p>Returns:
    - dict: The removed event.
        - If the event is not found, None is returned.</p>
</div>


                            </div>
                            <div id="TimeQueue.remove_next_event" class="classattr">
                                        <input id="TimeQueue.remove_next_event-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">remove_next_event</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">dict</span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="TimeQueue.remove_next_event-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#TimeQueue.remove_next_event"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="TimeQueue.remove_next_event-65"><a href="#TimeQueue.remove_next_event-65"><span class="linenos">65</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">remove_next_event</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="TimeQueue.remove_next_event-66"><a href="#TimeQueue.remove_next_event-66"><span class="linenos">66</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="TimeQueue.remove_next_event-67"><a href="#TimeQueue.remove_next_event-67"><span class="linenos">67</span></a><span class="sd">        Removes the next event from the queue.</span>
</span><span id="TimeQueue.remove_next_event-68"><a href="#TimeQueue.remove_next_event-68"><span class="linenos">68</span></a><span class="sd">        This method is used to get the next event in the queue and remove it from the heap.</span>
</span><span id="TimeQueue.remove_next_event-69"><a href="#TimeQueue.remove_next_event-69"><span class="linenos">69</span></a>
</span><span id="TimeQueue.remove_next_event-70"><a href="#TimeQueue.remove_next_event-70"><span class="linenos">70</span></a><span class="sd">        Returns:</span>
</span><span id="TimeQueue.remove_next_event-71"><a href="#TimeQueue.remove_next_event-71"><span class="linenos">71</span></a>
</span><span id="TimeQueue.remove_next_event-72"><a href="#TimeQueue.remove_next_event-72"><span class="linenos">72</span></a><span class="sd">        - dict: The removed event.</span>
</span><span id="TimeQueue.remove_next_event-73"><a href="#TimeQueue.remove_next_event-73"><span class="linenos">73</span></a><span class="sd">            - If the queue is empty, None is returned.</span>
</span><span id="TimeQueue.remove_next_event-74"><a href="#TimeQueue.remove_next_event-74"><span class="linenos">74</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="TimeQueue.remove_next_event-75"><a href="#TimeQueue.remove_next_event-75"><span class="linenos">75</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">remove_event</span><span class="p">(</span><span class="n">heapq</span><span class="o">.</span><span class="n">heappop</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__heap__</span><span class="p">)[</span><span class="mi">2</span><span class="p">])</span>
</span></pre></div>


            <div class="docstring"><p>Removes the next event from the queue.
This method is used to get the next event in the queue and remove it from the heap.</p>

<p>Returns:</p>

<ul>
<li>dict: The removed event.
<ul>
<li>If the queue is empty, None is returned.</li>
</ul></li>
</ul>
</div>


                            </div>
                            <div id="TimeQueue.get_next_event" class="classattr">
                                        <input id="TimeQueue.get_next_event-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_next_event</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">peek</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="TimeQueue.get_next_event-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#TimeQueue.get_next_event"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="TimeQueue.get_next_event-77"><a href="#TimeQueue.get_next_event-77"><span class="linenos"> 77</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_next_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">peek</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
</span><span id="TimeQueue.get_next_event-78"><a href="#TimeQueue.get_next_event-78"><span class="linenos"> 78</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="TimeQueue.get_next_event-79"><a href="#TimeQueue.get_next_event-79"><span class="linenos"> 79</span></a><span class="sd">        Retrieves the next event from the queue without removing it.</span>
</span><span id="TimeQueue.get_next_event-80"><a href="#TimeQueue.get_next_event-80"><span class="linenos"> 80</span></a><span class="sd">        This method is used to get the next event in the queue</span>
</span><span id="TimeQueue.get_next_event-81"><a href="#TimeQueue.get_next_event-81"><span class="linenos"> 81</span></a>
</span><span id="TimeQueue.get_next_event-82"><a href="#TimeQueue.get_next_event-82"><span class="linenos"> 82</span></a><span class="sd">        Args:</span>
</span><span id="TimeQueue.get_next_event-83"><a href="#TimeQueue.get_next_event-83"><span class="linenos"> 83</span></a>
</span><span id="TimeQueue.get_next_event-84"><a href="#TimeQueue.get_next_event-84"><span class="linenos"> 84</span></a><span class="sd">        - peek (bool): If True, the event is not removed from the queue.</span>
</span><span id="TimeQueue.get_next_event-85"><a href="#TimeQueue.get_next_event-85"><span class="linenos"> 85</span></a><span class="sd">            - Default: False</span>
</span><span id="TimeQueue.get_next_event-86"><a href="#TimeQueue.get_next_event-86"><span class="linenos"> 86</span></a><span class="sd">            - If False, the event is removed from the queue.</span>
</span><span id="TimeQueue.get_next_event-87"><a href="#TimeQueue.get_next_event-87"><span class="linenos"> 87</span></a>
</span><span id="TimeQueue.get_next_event-88"><a href="#TimeQueue.get_next_event-88"><span class="linenos"> 88</span></a><span class="sd">        Returns:</span>
</span><span id="TimeQueue.get_next_event-89"><a href="#TimeQueue.get_next_event-89"><span class="linenos"> 89</span></a>
</span><span id="TimeQueue.get_next_event-90"><a href="#TimeQueue.get_next_event-90"><span class="linenos"> 90</span></a><span class="sd">        - dict: The next event in the queue.</span>
</span><span id="TimeQueue.get_next_event-91"><a href="#TimeQueue.get_next_event-91"><span class="linenos"> 91</span></a><span class="sd">            - If the queue is empty, None is returned.</span>
</span><span id="TimeQueue.get_next_event-92"><a href="#TimeQueue.get_next_event-92"><span class="linenos"> 92</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="TimeQueue.get_next_event-93"><a href="#TimeQueue.get_next_event-93"><span class="linenos"> 93</span></a>        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">__heap__</span><span class="p">:</span>
</span><span id="TimeQueue.get_next_event-94"><a href="#TimeQueue.get_next_event-94"><span class="linenos"> 94</span></a>            <span class="k">if</span> <span class="n">peek</span><span class="p">:</span>
</span><span id="TimeQueue.get_next_event-95"><a href="#TimeQueue.get_next_event-95"><span class="linenos"> 95</span></a>                <span class="n">time</span><span class="p">,</span> <span class="n">priority</span><span class="p">,</span> <span class="nb">id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__heap__</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="TimeQueue.get_next_event-96"><a href="#TimeQueue.get_next_event-96"><span class="linenos"> 96</span></a>                <span class="n">event</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="TimeQueue.get_next_event-97"><a href="#TimeQueue.get_next_event-97"><span class="linenos"> 97</span></a>                <span class="k">if</span> <span class="n">event</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="TimeQueue.get_next_event-98"><a href="#TimeQueue.get_next_event-98"><span class="linenos"> 98</span></a>                    <span class="c1"># Remove the event from the heap to avoid stale references</span>
</span><span id="TimeQueue.get_next_event-99"><a href="#TimeQueue.get_next_event-99"><span class="linenos"> 99</span></a>                    <span class="n">heapq</span><span class="o">.</span><span class="n">heappop</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__heap__</span><span class="p">)</span>
</span><span id="TimeQueue.get_next_event-100"><a href="#TimeQueue.get_next_event-100"><span class="linenos">100</span></a>                    <span class="k">continue</span>
</span><span id="TimeQueue.get_next_event-101"><a href="#TimeQueue.get_next_event-101"><span class="linenos">101</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="TimeQueue.get_next_event-102"><a href="#TimeQueue.get_next_event-102"><span class="linenos">102</span></a>                <span class="n">time</span><span class="p">,</span> <span class="n">priority</span><span class="p">,</span> <span class="nb">id</span> <span class="o">=</span> <span class="n">heapq</span><span class="o">.</span><span class="n">heappop</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__heap__</span><span class="p">)</span>
</span><span id="TimeQueue.get_next_event-103"><a href="#TimeQueue.get_next_event-103"><span class="linenos">103</span></a>                <span class="n">event</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">remove_event</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
</span><span id="TimeQueue.get_next_event-104"><a href="#TimeQueue.get_next_event-104"><span class="linenos">104</span></a>                <span class="k">if</span> <span class="n">event</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="TimeQueue.get_next_event-105"><a href="#TimeQueue.get_next_event-105"><span class="linenos">105</span></a>                    <span class="k">continue</span>
</span><span id="TimeQueue.get_next_event-106"><a href="#TimeQueue.get_next_event-106"><span class="linenos">106</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">__time__</span> <span class="o">=</span> <span class="n">time</span>
</span><span id="TimeQueue.get_next_event-107"><a href="#TimeQueue.get_next_event-107"><span class="linenos">107</span></a>            <span class="k">return</span> <span class="p">{</span>
</span><span id="TimeQueue.get_next_event-108"><a href="#TimeQueue.get_next_event-108"><span class="linenos">108</span></a>                <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="nb">id</span><span class="p">,</span>
</span><span id="TimeQueue.get_next_event-109"><a href="#TimeQueue.get_next_event-109"><span class="linenos">109</span></a>                <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="n">time</span><span class="p">,</span>
</span><span id="TimeQueue.get_next_event-110"><a href="#TimeQueue.get_next_event-110"><span class="linenos">110</span></a>                <span class="s2">&quot;event&quot;</span><span class="p">:</span> <span class="n">event</span><span class="p">,</span>
</span><span id="TimeQueue.get_next_event-111"><a href="#TimeQueue.get_next_event-111"><span class="linenos">111</span></a>            <span class="p">}</span>
</span><span id="TimeQueue.get_next_event-112"><a href="#TimeQueue.get_next_event-112"><span class="linenos">112</span></a>        <span class="k">return</span> <span class="p">{</span>
</span><span id="TimeQueue.get_next_event-113"><a href="#TimeQueue.get_next_event-113"><span class="linenos">113</span></a>            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="TimeQueue.get_next_event-114"><a href="#TimeQueue.get_next_event-114"><span class="linenos">114</span></a>            <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="TimeQueue.get_next_event-115"><a href="#TimeQueue.get_next_event-115"><span class="linenos">115</span></a>            <span class="s2">&quot;event&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="TimeQueue.get_next_event-116"><a href="#TimeQueue.get_next_event-116"><span class="linenos">116</span></a>        <span class="p">}</span>
</span></pre></div>


            <div class="docstring"><p>Retrieves the next event from the queue without removing it.
This method is used to get the next event in the queue</p>

<p>Args:</p>

<ul>
<li>peek (bool): If True, the event is not removed from the queue.
<ul>
<li>Default: False</li>
<li>If False, the event is removed from the queue.</li>
</ul></li>
</ul>

<p>Returns:</p>

<ul>
<li>dict: The next event in the queue.
<ul>
<li>If the queue is empty, None is returned.</li>
</ul></li>
</ul>
</div>


                            </div>
                            <div id="TimeQueue.get_next_events" class="classattr">
                                        <input id="TimeQueue.get_next_events-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_next_events</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="TimeQueue.get_next_events-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#TimeQueue.get_next_events"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="TimeQueue.get_next_events-118"><a href="#TimeQueue.get_next_events-118"><span class="linenos">118</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_next_events</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>
</span><span id="TimeQueue.get_next_events-119"><a href="#TimeQueue.get_next_events-119"><span class="linenos">119</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="TimeQueue.get_next_events-120"><a href="#TimeQueue.get_next_events-120"><span class="linenos">120</span></a><span class="sd">        Retrieves all events that occur at the same time as the next event.</span>
</span><span id="TimeQueue.get_next_events-121"><a href="#TimeQueue.get_next_events-121"><span class="linenos">121</span></a><span class="sd">        This method is used to get all events that occur at the same time as the next event in the queue.</span>
</span><span id="TimeQueue.get_next_events-122"><a href="#TimeQueue.get_next_events-122"><span class="linenos">122</span></a><span class="sd">        It removes these events from the queue.</span>
</span><span id="TimeQueue.get_next_events-123"><a href="#TimeQueue.get_next_events-123"><span class="linenos">123</span></a>
</span><span id="TimeQueue.get_next_events-124"><a href="#TimeQueue.get_next_events-124"><span class="linenos">124</span></a><span class="sd">        Returns:</span>
</span><span id="TimeQueue.get_next_events-125"><a href="#TimeQueue.get_next_events-125"><span class="linenos">125</span></a>
</span><span id="TimeQueue.get_next_events-126"><a href="#TimeQueue.get_next_events-126"><span class="linenos">126</span></a><span class="sd">        - list: A list of events that occur at the same time as the next event.</span>
</span><span id="TimeQueue.get_next_events-127"><a href="#TimeQueue.get_next_events-127"><span class="linenos">127</span></a><span class="sd">            - If the queue is empty, an empty list is returned.</span>
</span><span id="TimeQueue.get_next_events-128"><a href="#TimeQueue.get_next_events-128"><span class="linenos">128</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="TimeQueue.get_next_events-129"><a href="#TimeQueue.get_next_events-129"><span class="linenos">129</span></a>        <span class="n">events</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="TimeQueue.get_next_events-130"><a href="#TimeQueue.get_next_events-130"><span class="linenos">130</span></a>        <span class="n">event</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_next_event</span><span class="p">(</span><span class="n">peek</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="TimeQueue.get_next_events-131"><a href="#TimeQueue.get_next_events-131"><span class="linenos">131</span></a>        <span class="k">if</span> <span class="n">event</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="TimeQueue.get_next_events-132"><a href="#TimeQueue.get_next_events-132"><span class="linenos">132</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">__time__</span> <span class="o">=</span> <span class="n">event</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span>
</span><span id="TimeQueue.get_next_events-133"><a href="#TimeQueue.get_next_events-133"><span class="linenos">133</span></a>            <span class="n">next_event</span> <span class="o">=</span> <span class="n">event</span>
</span><span id="TimeQueue.get_next_events-134"><a href="#TimeQueue.get_next_events-134"><span class="linenos">134</span></a>            <span class="k">while</span> <span class="n">next_event</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">__time__</span><span class="p">:</span>
</span><span id="TimeQueue.get_next_events-135"><a href="#TimeQueue.get_next_events-135"><span class="linenos">135</span></a>                <span class="n">event</span> <span class="o">=</span> <span class="n">next_event</span>
</span><span id="TimeQueue.get_next_events-136"><a href="#TimeQueue.get_next_events-136"><span class="linenos">136</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">remove_next_event</span><span class="p">()</span>
</span><span id="TimeQueue.get_next_events-137"><a href="#TimeQueue.get_next_events-137"><span class="linenos">137</span></a>                <span class="n">events</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</span><span id="TimeQueue.get_next_events-138"><a href="#TimeQueue.get_next_events-138"><span class="linenos">138</span></a>                <span class="n">next_event</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_next_event</span><span class="p">(</span><span class="n">peek</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="TimeQueue.get_next_events-139"><a href="#TimeQueue.get_next_events-139"><span class="linenos">139</span></a>        <span class="k">return</span> <span class="n">events</span>
</span></pre></div>


            <div class="docstring"><p>Retrieves all events that occur at the same time as the next event.
This method is used to get all events that occur at the same time as the next event in the queue.
It removes these events from the queue.</p>

<p>Returns:</p>

<ul>
<li>list: A list of events that occur at the same time as the next event.
<ul>
<li>If the queue is empty, an empty list is returned.</li>
</ul></li>
</ul>
</div>


                            </div>
                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "../search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value"> = ${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>